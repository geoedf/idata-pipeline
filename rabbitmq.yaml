extraSecrets:
    load-definition:
        load_definition.json: |
            {
                "vhosts": [
                    {
                        "name": "/"
                    }
                ],
                "users": [
                    {
                        "name": "rabbitmq",
                        "password": "rabbitmq",
                        "tags": "administrator",
                    }
                ],
                "permissions": [
                    {
                        "user": "rabbitmq",
                        "vhost": "/",
                        "configure": ".*",
                        "write": ".*",
                        "read": ".*"
                    }
                ], 
                "queues": [
                    {
                        "name": "geoedf-all",
                        "vhost": "/",
                        "durable": true,
                        "auto_delete": false,
                        "internal": false,
                        "arguments": {}
                    },
                    {
                        "name": "metadata-extract",
                        "vhost": "/",
                        "durable": true,
                        "auto_delete": false,
                        "internal": false,
                        "arguments": {}
                    }
                ]
            }
rabbitmq:
  loadDefinition:
    enabled: true
    secretName: load-definition
  extraConfiguration: |
    management.load_definitions = /app/load_definition.json
    #persistence.existingClaim = rabbitmq-pvc
    #persistence.enabled = false
    #volumePermissions.enabled = true
